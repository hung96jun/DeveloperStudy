- 힙은 이진 힙이라고도 하며, 최댓값 및 최솟값을 찾아내는 연산을 빠르게 하기 위해 고안된 완전 이진트리를 기본으로한 자료구조
- 속성
	- 환전 이진트리(Complete Binary Tree)이다.
	- 부모 노드의 키값과 자식 노드의 키값 사이에는 대소관계가 성립한다.
		- 키값 대소관계는 오로지 부모 자식간에만 성립되며, 형제사이에는 대소관계가 정해지지 않음
- 종류
	- 최대 힙(Max Heap)
		- 부모 키값이 자식노드 키값보다 큰 힙
		- Key(parent) >= Key(child)
		- 가장 큰 값이 루트노드에 있음
		- ![[Pasted image 20231019155535.png]]
	- 최소 힙(Min Heap)
		- 부모 키값이 자식노드 키값보다 작은 힙
		- Key(parent) <= key(child)
		- 가장 작은 값이 루트노드에 있음
		- ![[Pasted image 20231019155612.png]]
- 표현
	- 힙은 완전 이진트리로, 일반적으로 배열로 표현한다.
	- 개발 편의성과 가독성 때문에 배열 인덱스 1부터 사용한다.(즉, 0은 nullptr값을 나타낸다.)
	- 루트노드의 인덱스 i가 1인 경우 다음과 같은 속성이 있다.
		- 노드 i의 부모노드 인덱스 : i / 2
		- 노드 i의 왼쪽 자식 노드 인덱스 : 2 * i
		- 노드 i의 오른쪽 자식 노드 인덱스 : 2 * i + 1
- 연산
	- heapify()
		- 이진트리에서 힙 속성을 유지하는 작업![[Pasted image 20231019155836.png]]
		- 요소 값과 자식 노드 값을 비교
		- 만약 자식 노드 값이 클경우 왼쪽 오른쪽 자식 중 가장 큰 값으로 교환
		- 힙 속성이 유지될 때까지 1, 2번 과정을 반복
	- BuildHeap
		- 완전 이진트리를 heap구조로 만드는 작업![[Pasted image 20231019155942.png]]
		- 배열로 표현된 힙은 n / 2 + 1부터 n까지 leaf node라는 속성이 있다.
		- leaf node를 제외한 나머지 노드(1~n / 2)에 heapify를 수행하면 heap 구조로 build할 수 있다.
		- max heap으로 build 하는 작업은 leaf node를 제외한 나머지 노드 중 마지막 노드 (n / 2)부터 루트 노드(1)까지 차례로 max_heapify를 수행 ![[Pasted image 20231019155950.png]]
	- peek
		- heap에 최대 요소를 반환하는 작업
		- maxheap에서 최대 값은 항상 루트에 있으므로 루트 값을 반환
	- extract
		- extract는 heap에 최대 요소를 추출하는 작업![[Pasted image 20231019160250.png]]
		- heap의 최대 요소는 루트 노드에 있기 때문에 루트 노드의 값을 추출
		- heap의 마지막 요소를 루트 노드에 배치
		- 마지막 요소를 루트 노드에 배치하면 heap 속성을 위배할 수 있으므로 루트 노드부터 max_heapify를 수행
	- increase value
		- increase value는 max heap에서 사용하는 작업으로 어느 노드의 값을 증가시키는 작업을 한다.(min heap에서는 decrease value를 사용)
		- 만약 heap속성을 위배하는 경우 부모 노드가 더 큰값이 될때까지 부모 노드와 값을 바꾸는 작업을 진행
		- heapify 작업은 필요없다.
			- max heap 구조에서는 노드의 값을 장가시켜도 항상 자식 노드보다 크다는 것이 보장되기 때문, 반대의 경우(min heap)도 마찬가지
		- ![[Pasted image 20231019160525.png]]
		- 어느 노드의 값을 증가
		- 부모 노드와 비교하여 heap 속성을 위배하는 경우 부모 노드와 값을 변경
		- 힙 속성이 유지될 때까지 2번 작업을 반복
	- insert
		- 삽입 과정![[Pasted image 20231019160614.png]]
		- 힙의 끝에 최솟값을 삽입
		- inserase value 함수를 호출하여 추가된 값을 삽입할 값으로 증가시키고 힙 속성을 유지
	- delete
		- 삭제 과정![[Pasted image 20231019160659.png]]
		- increase value를 수행하여 삭제할 요소를 max 값으로 증가시키고 루트 노드에 위치시킴
		- extract를 수행하여 루트 노드에 값을 추출